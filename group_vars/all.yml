---
ansible_become: true
ansible_user: lwatson
ansible_python_interpreter: /usr/bin/python3.9
journald_retention_sec: 7d
sysctl_vm_swappiness: 1

msmtp_host: smtp.eu.mailgun.org

# https://stackoverflow.com/a/50771173
_influx_token: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61303633653464303033353931366363323762633466396161663634313039306564663666316433
          3833313534363632653265636530376537306331353136610a636533666261383266336536633337
          61376361383562336361626134353363313736386135323062613632666337306539623133666333
          3161643535383535650a363034663739643263373662343661323839356266323565386530393836
          37333634623231663264333764386632316532613539376138643037383931376264663630386361
          35323437323365653134356237636338306239626334626339376138356530633836326538636530
          64333663376561346137326238636337613238333664613831623534346638666463373936346637
          36626463326433656231323862356163613966343330316563323963666230623838383830353130
          6161

telegraf_outputs:
  - influxdb_v2:
      urls:
        - https://influx.lwatson.dev
      organization: default
      bucket: telegraf
      token: "{{ _influx_token }}"

telegraf_inputs:
  - cpu:
      percpu: true
      totalcpu: true
  - mem:
  - ping:
      method: "native"
      urls:
        - 8.8.8.8
        - 1.1.1.1
  - conntrack:
      dirs:
        - /proc/sys/net/netfilter
        - /proc/sys/net/ipv4/netfilter
        - /proc/sys/net/ipv6/netfilter
      files:
        - ip_conntrack_count
        - nf_conntrack_count
  - zfs:
  - net:
      interfaces:
        - "eth*"
        - "en*"
        - "br[0-9]"
  - smart:
      attributes: true
